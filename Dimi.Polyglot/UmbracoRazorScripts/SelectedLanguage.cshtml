@*
  SelectedLanguage.cshtml
  Part of the Polyglot package.
*@
@using System.Text.RegularExpressions
@using Dimi.Polyglot.BLL
@{
    var selectedLanguage = "";
    var lang = Request.Params["lang"];

    var regex = new Regex("^[a-zA-Z][a-zA-Z]$");

    if (!string.IsNullOrEmpty(lang) && regex.IsMatch(lang))
    {
        selectedLanguage = lang;
    }
    else
    {
        selectedLanguage = Languages.GetDefaultLanguage();
    }
    @selectedLanguage.ToLower()
}